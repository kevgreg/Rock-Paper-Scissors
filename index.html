<!DOCTYPE html>
<html>

<script>

//Function to randomly returns Rock, Paper, or Scissors for computer input
function computerPlay(){
    let computerChoice = Math.floor(Math.random() * 3);

    if(computerChoice == 0){
        return "rock";
    }
    else if(computerChoice == 1){
        return "paper";
    }
    else{
        return "scissors";
    }
}

//Function to prompt the player for input and validates it
function getPlayerInput(){
    //get player input
    let input = prompt("Enter Rock, Paper, or Scissors").toLowerCase();
    //validate player input
    if(input == "rock" || input == "paper" || input == "scissors"){
            return input;
    }
    else{//keep prompting player until input is valid
        while(true){
            let input = prompt("Invalid input. Please enter Rock, Paper, or Scissors").toLowerCase();
            if(input == "rock" || input == "paper" || input == "scissors"){
            return input;
        }
    }
    }
}

//Function to plays 1 round of the game
function playRound(playerSelection, computerSelection){

    //Defines the message for the result of the game
    const win = `You win! ${playerSelection} beats ${computerSelection}`;
    const lose = `You Lose! ${computerSelection} beats ${playerSelection}`;
    const tie = `You tied! ${playerSelection} equals ${computerSelection}`;
    
    //if player wins
    if(playerSelection == "rock" && computerSelection == "scissors" || playerSelection == "scissors" && computerSelection == "paper" || playerSelection == "paper" && computerSelection == "rock"){
        console.log(win);
        return "win";
    }//if player ties
    else if(playerSelection == computerSelection){
        console.log(tie);
        return "tie";
    }//if player loses
    else{
        console.log(lose);
        return "lose";
    }
}

//Function to play game 5 times and outputs score
function game(){
    //score variables
    let playerScore = 0;
    let computerScore = 0;
    let ties = 0;
    //plays 5 rounds and keeps score
    for (let i = 0; i < 5; i++){

        let play = playRound(getPlayerInput(), computerPlay());

        if(play == "win"){
            playerScore++;
        }
        else if(play == "lose"){
            computerScore++;
        }
        else if(play == "tie"){
            ties++;
        }
    }
    //output results
    console.log(`Player wins: ${playerScore}`);
    console.log(`Computer wins: ${computerScore}`);
    console.log("Ties: " + ties)
}
//starts game
game();

</script>

</html>